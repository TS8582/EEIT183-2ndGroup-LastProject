<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">

<head>
	<meta charset="utf-8">
	<title>文章首頁</title>

	<style>
		@keyframes fadeIn {
			0% {
				opacity: 0;
				transform: translateY(20px);
			}

			100% {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.animated-section {
			animation: fadeIn 0.5s ease-in-out forwards;
		}

		.animated-table {
			animation: fadeIn 1s ease-in-out forwards;
		}

		@font-face {
			font-family: 'oxxo';
			src: url("[[@{/css/forum/jf-openhuninn-2.0.ttf}]]");
		}

		.position-relative {
			position: relative;
			min-height: 200px;
			display: flex;
			align-items: flex-start;
		}

		.image-container {
			flex: 0 0 220px;
			margin-right: 20px;
		}

		.image-placeholder {
			width: 100%;
			height: 200px;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		.image-placeholder img {
			max-width: 100%;
			max-height: 100%;
			object-fit: cover;
		}

		.content-container {
			flex: 1;
			overflow: hidden;
			font-family: oxxo, serif;
			padding-right: 100px;
		}

		.text-area {
			overflow: hidden;
			text-overflow: ellipsis;
			max-height: 100px;
			margin-bottom: 10px;
			padding-right: 15px;
		}

		.text-area img {
			display: none;
		}

		.container {
			margin-bottom: 20px;
			padding: 0;
			max-width: 100%;
		}

		.box {
			width: 300px;
			padding: 10px;
			border: blue 2px solid;
		}

		.pagination {
			margin: 0 auto;
			display: flex;
			justify-content: center;
		}

		.footer {
			margin-top: 100px;
		}

		.title1 {
			color: rgb(121, 85, 252);
			font-family: Verdana, Geneva, Tahoma, sans-serif;
		}

		.div-container {
			padding-top: 30px;
		}

		.img1 {
			width: 100%;
			height: auto;
			object-fit: cover;
		}

		.bgc1 {
			background-color: rgba(121, 85, 252, 0.363);
		}

		.r1 {
			padding: 30px !important;
			border-bottom: 2px dotted rgb(121, 85, 252);
		}

		.read-more-container {
			position: absolute;
			bottom: 15px;
			right: 15px;
		}

		.read-more-link {
			display: inline-block;
			padding: 5px 10px;
			background-color: none;
			text-decoration: none;
			color: rgb(121, 85, 252);
		}

		.read-more-container :hover {
			color: aqua;
		}

		.dtm {
			display: flex;
			justify-content: center;
			color: rgb(121, 85, 252);
		}
	</style>
</head>

<body class="b1">

	<div th:replace="~{layout/nav}"></div>
	<div th:replace="~{forum/layout/navbar}"></div>



	<section class="py-5 animated-section">
		<div class="container main">
			<div class="row r1 rounded-2">
				<div th:each="oneMsg : ${page.content}" class="mb-4 animated-table">
					<div class="position-relative rounded-2 m-1 p-2 pt-1 d-flex bgc1">
						<div class="image-container mr-3">
							<div class="image-placeholder">
								<img th:src="@{/photo/showPhoto2(textsId=${oneMsg.textsId})}" alt="cloth"
									class="img-fluid img1">
							</div>
						</div>
						<div class="content-container">
							<h3 class="secondary-font title1" th:text="${oneMsg.title}"></h3>
							<div class="secondary-font text-primary"
								th:text="${#dates.format(oneMsg.updatedTime, 'yyyy年MM月dd日 ')}"></div>
							<div class="text-area">
								<span th:utext="${oneMsg.textsContent}" class="blog-read text-area"></span>
							</div>
							<div class="read-more-container">
								<a th:href="@{/texts/{textsId}/talk(textsId=${oneMsg.textsId})}"
									class="blog-read read-more-link">閱讀更多...</a>
							</div>
						</div>
					</div>
				</div>
				<!-- Pagination -->
				<div class="container div-container">
					<div class="my-2 dtm" th:text="'總共有 ' + ${page.totalElements} + ' 筆'"></div>
					<ul class="pagination" th:if="${page.totalPages != 0}">
						<!-- 上一頁 -->
						<th:block th:switch="${page.number != 0}">
							<li th:case="${true}" class="page-item"><a class="page-link"
									th:href="@{/texts/page(p=${page.number})}">上一頁</a></li>
							<li th:case="${false}" class="page-item disabled"><span class="page-link">上一頁</span></li>
						</th:block>

						<!-- 頁碼 -->
						<th:block th:each="pageNumber : ${#numbers.sequence(1,page.totalPages)}">
							<th:block th:switch="${page.number + 1 == pageNumber}">
								<li th:case="${false}" class="page-item">
									<a class="page-link" th:href="@{/texts/page(p=${pageNumber})}"
										th:text="${pageNumber}"></a>
								</li>
								<li th:case="${true}" class="page-item active">
									<span class="page-link" th:text="${pageNumber}"></span>
								</li>
							</th:block>
						</th:block>

						<!-- 下一頁 -->
						<th:block th:switch="${page.number + 1 == page.totalPages}">
							<li th:case="${false}" class="page-item"><a class="page-link"
									th:href="@{/texts/page(p=${page.number + 2})}">下一頁</a></li>
							<li th:case="${true}" class="page-item disabled"><span class="page-link">下一頁</span></li>
						</th:block>
					</ul>

				</div>
			</div>
		</div>
	</section>

	<!-- Footer -->
	<!-- <div class="footer" th:replace="~{layout/footer}"></div> -->

	<!-- JavaScript -->
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script src="js/jquery-1.11.0.min.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
	<script src="js/plugins.js"></script>
	<script src="js/script.js"></script>
	<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

	<script>

		// 對超過長度的文字進行省略處理

		$(function () {
			var len = 200;
			$(".text-area").each(function (i) {
				if ($(this).text().length > len) {
					$(this).attr("title", $(this).text());
					var text = $(this).text().substring(0, len - 1) + "...";
					$(this).text(text);
				}
			});
		});





	</script>
</body>

</html>